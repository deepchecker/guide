# Deepchecker

DeepChecker - приложение, потребляющее большое количество ресурсов. Все операции происходят в десятках отдельных процессов, в связи с чем для корректной работы приложения требуется VPS с не менее чем 4 vCPU и 4Гб ОЗУ. ОС: Ubuntu 20.04

Приобрести VPS можно здесь:

- https://www.cherryservers.com/
- https://www.digitalocean.com/
- https://www.ovhcloud.com/
- https://www.hetzner.com/

# Доменное имя

Для полноценной работы DeepChecker - необходимо доменное имя с установленным SSL сертификатом. Софт способен работать и на ip адресе, но в таком случае - вы будете лишены возможности получать уведомления от телеграм бота, поскольку API telegram работает только по протоколу https.

Купите домен у любого удобного вам регистратора и добавьте А-запись с IP вашего VPS сервера. Указываем следующие настройки:

- Host: **@**
- IP: **1.1.1.1** _(IP вашего VPS сервера)_

## [1.1] Установка DeepChecker на чистый образ Ubuntu 20.04
Все указанные ниже команды должны быть введены в консоли вашего сервера.

Создаем папку deepchecker
```
mkdir /home/deepchecker
```
Загрузите архив с deepchecker в `/home/deepchecker`.

Разархивируйте архив
```
sudo apt-get install unzip
unzip deepchecker.zip
```

Откройте `.env`.
```
sudo nano .env
```
Вставьте в `APP_URL=` домен, на котором планируете запускать чекер в формате https://domain.com/ (обязателньо через https).
Поменяйте значение `DB_PASSWORD=` и `REDIS_PASSWORD=` с `secret` на пароль, который хотите установить.

### [1.2] Если домен присутствует

```
cd /home/deepchecker
chmod +x scripts/install.sh
./scripts/install.sh **domain.com** // замените domain.com на ваш домен
```

### [1.2] Если домен отсутствует

```
cd /home/deepchecker
chmod +x scripts/install.sh
./scripts/install.sh
```

## [2.1] Обновление чекера (если вышла новая версия)

Скачайте архив с новой версией на свое устройство.
Откройте `.env` в архиве с новой версией deepchecker и сравните его с существующим `.env` старой версии. Если в первом появились новые строки - добавьте их в `.env`.
Загрузите архив с новой версией deepchecker в `/home/deepchecker`.
Распакуйте все файлы из нового архива кроме `.env` в `/home/deepchecker` с заменой старых файлов.

Введите в консоли:
```
cd /home/deepchecker
chmod +x scripts/remove.sh
./scripts/remove.sh
```

Далее процесс аналогичен установке.
Выполните шаг 1.2 (см выше)

# Авторизация

После первой установки вам доступен следующий аккаунт администратора:

Логин: user@site.ru
Пароль: password

# Начало работы

## Телеграм - бот
- Пишем в личные сообщения тг **@botfather**, создаем бота, получаем токен бота в формате 111111111:DASKDI2109290DWR10-4013389120-32
- Заходим в админку чекера по ссылке **/settings**, заполняем поля **'Имя бота (указываем без @)'** и **'Токен'**, жмем кнопку **'Обновить'**.
- Жмем кнопку **'Привязать вебхук Telegram'**.
- Пишем **/start** в личные сообщения нашему боту.
- Возвращаемся в админку чекера на страницу **/settings**. Заполняем поле 'Уведомлять, если баланс кошелька превысит' - указываем пороговую сумму в $.
- Копируем текст из поля **/pair 0000000000000000000000000** и отправляем его боту.
- Если все верно - бот пришлет вам сообщение 'Привязка успешно совершена' и с этого момента будет присылать уведомления о находках.

**Можете приступать к работе**  
