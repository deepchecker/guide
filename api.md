# DeepChecker API

## Авторизация

Каждый запрос должен содержать заголовок `x-api-key` со значением из настроек пользователя. В случае отсутствия заголовка или его некорректного значения всегда будет возвращен `403 Forbidden`.

## Лимиты

120 запросов/минуту

## Методы

### GET `/wallets/:id`

Возвращает существующий объект Wallet.

Коды ответов:
- 200 - ok.
- 404 - not found. Объект не найден или принадлежит другому пользователю.

### POST `/wallets`

Добавляет seed-фразу для пользователя. В теле запроса ожидается JSON с данными.

Поля (* - обязательное):
- `mnemonic`* - seed-фраза, максимум 512 символов.
- `locale` - язык словаря для валидации seed-фразы. Доступные значения: `en, ja, es, fr, it`. Значение по-умолчанию: `en`.

Коды ответов:
- 200 - ok. Возвращает объект Wallet созданной записи.
- 400 - ошибка валидации. Возвращает `{"message": {"input": "message"}"}` с описанием ошибок.

## Модели

### Wallet

```
{
    "id": bigint, // уникальный ID записи
    "mnemonic": string, // seed-фраза
    "addresses": null|object, // объект с адресами или null, если адреса еще не сгенерированы
    "results": null|array // массив с WalletResult включенных валют или null, если адреса еще не сгенерированы
}
```

### WalletResult

```
{
    "id": bigint, // уникальный ID результата
    "currency": string, // идентификатор валюты
    "latest_result": null|object, // объект с адресами и их балансами в $ если запись была обработана, иначе null
    "latest_total_balance": null|float, // сумма балансов адресов в $ если запись была обработана, иначе null
    "previously_result": null|object, // предыдущий объект с адресами и их балансами в $ если запись была обработана более одного раза, иначе null
    "previously_total_balance": null|float, // предыдущая сумма балансов адресов в $ если запись была обработана более одного раза, иначе null
    "next_check_at": datetime, // время следующей проверки адресов
    "updated_at": datetime // время последнего изменения (проверки)
}
```
